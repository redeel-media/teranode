@startuml
skinparam backgroundColor #F0F8FF
skinparam defaultFontColor #333333
skinparam arrowColor #666666

' Define borders for all elements
skinparam entity {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam control {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam participant {
  BorderColor #666666
  BackgroundColor #DDDDDD
}



participant "HTTP Client" as Client
participant "HTTP Server\n(asset/httpimpl/http.go)" as HTTPServer
participant "BlockchainClient" as Blockchain

' GET request for headers from common ancestor
Client -> HTTPServer : GET /headers_from_common_ancestor/:hash\n?block_locator_hashes=...&n=100
activate HTTPServer

HTTPServer -> Blockchain : GetBlockHeadersFromCommonAncestor(ctx, chainTipHash,\nlocatorHashes, numberOfHeaders)
activate Blockchain
Blockchain --> HTTPServer : Block headers from common ancestor
deactivate Blockchain

HTTPServer --> Client : Response (BINARY_STREAM, HEX, or JSON format)
deactivate HTTPServer

left footer Last Modified On: %date("dd-MMM-yyyy")

@enduml
