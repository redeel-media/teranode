@startuml
skinparam backgroundColor #F0F8FF
skinparam defaultFontColor #333333
skinparam arrowColor #666666

' Define borders for all elements
skinparam entity {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam control {
  BorderColor #666666
  BackgroundColor #DDDDDD
}

skinparam participant {
  BorderColor #666666
  BackgroundColor #DDDDDD
}



participant "HTTP Client" as Client
participant "HTTP Server\n(asset/httpimpl/http.go)" as HTTPServer
participant "SubtreeStore" as Store

' GET request for raw subtree data
Client -> HTTPServer : GET /subtree_data/:hash
activate HTTPServer

HTTPServer -> Store : GetSubtreeDataReader(ctx, hash)
activate Store
alt SubtreeStore has data
    Store --> HTTPServer : Subtree data reader (io.Reader)
else SubtreeStore does not have data
    Store --> HTTPServer : Data not found
end
deactivate Store

HTTPServer --> Client : Binary stream (application/octet-stream)
deactivate HTTPServer

left footer Last Modified On: %date("dd-MMM-yyyy")

@enduml
